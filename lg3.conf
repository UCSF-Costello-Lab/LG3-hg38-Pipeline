#!/bin/bash
### Default Configuration File for the LG3 Pipeline
### DO NOT EDIT THIS FILE!

### Assert that LG3_HOME is set
LG3_HOME=${LG3_HOME?}
echo "Loading lg3.conf ..."
DEBUG=false
export CONV=${CONV:-patient_ID_conversions.tsv}

module load bwa/0.7.17         2> /dev/null && BWA=$(which bwa)
module load samtools/1.17      2> /dev/null && SAMTOOLS=$(which samtools)
module load gatk/4.3.0.0       2> /dev/null && GATK4=$(which gatk) 
module load trimgalore/0.6.10  2> /dev/null && TG=$(which trim_galore)
module load cutadapt/3.7       2> /dev/null && CUTADAPT=$(which cutadapt)
module load htstools/0.1.1     2> /dev/null && SNP_PILEUP=$(which snp-pileup)
module load openjdk/1.8.0      2> /dev/null && JAVA=$(which java)
PYTHON=$(which python2)

#module load r/3.6.0             2> /dev/null && RSCRIPT=$(which Rscript)
module load r/4.2.3             2> /dev/null && RSCRIPT=$(which Rscript)

#annovar/2011-10-02
module load annovar/2020-06-07  2> /dev/null && ANNOVAR_HOME=$(dirname "$(which annotate_variation.pl)")

# bedtools2/2.30.0
module load bedtools2/2.26.0    2> /dev/null && BEDTOOLS=$(which bedtools) # Works for QC2!

module load pindel/0.2.5b8       2> /dev/null && { PINDEL=$(which pindel); PINDEL2VCF=$(which pindel2vcf); }

## Deprecated
module load gatk/1.6-5-g557da77 2> /dev/null && GATK=${GATK_HOME}/GenomeAnalysisTK.jar
module load mutect/1.0.27783    2> /dev/null && MUTECT=${MUTECT_JAR}
module load picard/1.64         2> /dev/null ## Sets PICARD_HOME as we want here
#picard/2.27.5

export RECAL_BAM_EXT=${RECAL_BAM_EXT:-bwa.mrkDups.sort.recal}
export REF=/costellolab/data1/hs38_gatk_cloud/Homo_sapiens_assembly38.fasta
export BWA_INDEX=/costellolab/data1/hs38_gatk_cloud/Homo_sapiens_assembly38.fasta

export ILIST=/costellolab/data1/liftover/xgen-exome-research-panel-targets_6bpexpanded_hg38.bed
#export ILIST=/costellolab/data1/liftover/SeqCap_EZ_Exome_v3_capture_hg38.bed
export ILIST2=/costellolab/data1/liftover/xgen-exome-research-panel-targets_6bpexpanded_hg38.interval_list
#export ILIST2=/costellolab/data1/liftover/SeqCap_EZ_Exome_v3_capture_hg38.interval_list

export PADDING=${PADDING:-0}

#export PON=/costellolab/data1/hs38_gatk_resource/1000g_pon.hg38.vcf.gz

export GNOMAD=/costellolab/data1/hs38_gatk_resource/af-only-gnomad.hg38.vcf.gz

export COMMON=/costellolab/data1/hs38_gatk_resource/small_exac_common_3.hg38.vcf.gz

export FUNCOTATOR=/costellolab/data1/funcotator/funcotator_dataSources.v1.7.20200521s

export KNOWN_SNPS=/costellolab/data1/hs38_gatk_resource/dbsnp_138.hg38.vcf.gz

export KNOWN_SNPS2=/costellolab/data1/hs38_gatk_resource/1000G_phase1.snps.high_confidence.hg38.vcf.gz

export KNOWN_SNPS3=/costellolab/data1/hs38_gatk_resource/dbsnp_146.hg38.vcf.gz

export KNOWN_INDELS=/costellolab/data1/hs38_gatk_resource/Mills_and_1000G_gold_standard.indels.hg38.vcf.gz

export KNOWN_INDELS2=/costellolab/data1/hs38_gatk_resource/Homo_sapiens_assembly38.known_indels.vcf.gz

## for snp-pileup (b38?)
export COMMONSNPS=/costellolab/data1/hs38_gatk_resource/common_all_20180418.vcf.gz

if ${DEBUG}; then
	echo "CONV = ${CONV}"
	echo "REF = ${REF}"
	echo "ILIST = ${ILIST}"
	echo "PADDING = ${PADDING}"
	#echo "PON = ${PON}"
	echo "GNOMAD = ${GNOMAD}"
	echo "COMMON = ${COMMON}"
	echo "FUNCOTATOR = ${FUNCOTATOR}"
	echo "KNOWN_SNPS = ${KNOWN_SNPS}"
	echo "KNOWN_SNPS2 = ${KNOWN_SNPS2}"
	echo "KNOWN_SNPS3 = ${KNOWN_SNPS3}"
	echo "KNOWN_INDELS = ${KNOWN_INDELS}"
	echo "KNOWN_INDELS2 = ${KNOWN_INDELS2}"
	echo "COMMONSNPS = ${COMMONSNPS}"
fi
echo "$0 loaded!"
